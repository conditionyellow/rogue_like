# GEMINI.md

## 応答ルール
このプロジェクトでの応答は全て日本語でお願いします。

## プロジェクト概要

このプロジェクトは「Rogue - The Dungeon Crawler」という、Webブラウザで動作するクラシックなローグライクゲームです。プレイヤーは自動生成されるダンジョンを探索し、モンスターと戦い、アイテムを収集しながらキャラクターを成長させていきます。

## 技術スタック

- **言語**: JavaScript (ES6+)
- **プラットフォーム**: Webブラウザ (HTML5 Canvas)
- **サウンド**: Web Audio API (プロシージャル音響生成)
- **依存関係**: なし (Pure JavaScript)
- **ローカライズ**: JSONファイルによる多言語対応 (日本語/英語)

## ゲームのコア機能

- **ダンジョン**: 部屋と通路からなるダンジョンを自動生成します。
- **戦闘**: ターンベースの戦闘システムを採用しています。
- **キャラクター**: レベルアップによる成長システムがあります。新たに**器用さ(Dexterity)**ステータスが追加されました。
- **アイテム**: ポーション、装備、ゴールドなどのアイテムが登場します。インベントリ管理機能も備わっています。
- **魔法システム**: MPを消費して呪文を唱えることができます（例: Fireball, Heal）。
- **サウンド**: BGMや効果音はプロシージャルに生成されます。
- **UI**: モダンなインベントリ画面や、ゲームオーバー画面が実装されています。情報表示パネルは画面サイズに応じて最適化されるレスポンシブレイアウトを採用しています。また、画面左下には常時表示される操作ガイドが追加されました。
- **罠システム**: ダンジョン内に隠された罠（ダメージ、テレポート等）がプレイヤーを待ち受けます。器用さ(Dexterity)の値に応じて、罠の回避判定が自動で行われます。
- **ショップシステム**: ダンジョン内で稀に遭遇する商人から、アイテムを購入したり、不要なアイテムを売却したりできます。
- **バイリンガル対応**: 日本語と英語の切り替え機能を実装。UIやメッセージが選択言語で表示されます。

## 操作方法

| キー | 動作 |
|---|---|
| `W` / `↑` | 上移動 |
| `S` / `↓` | 下移動 |
| `A` / `←` | 左移動 |
| `D` / `→` | 右移動 |
| `Space` | 休憩 (HP/MP回復) |
| `G` | アイテム取得 |
| `I` | インベントリUI表示 (アイテムドロップ可) |
| `U` | アイテム選択モード |
| `M` | 魔法選択モード |
| `B` | 商人と取引 |
| `1`～`9` | アイテム/魔法の直接選択 |
| `E` | 装備表示 |
| `R` | 装備除去 |
| UIボタン | 言語切り替え | 日本語と英語の表示を切り替える |
| `audio mute` | オーディオをミュートする |
| `audio unmute` | オーディオのミュートを解除する |
| `audio volume [0-100]` | オーディオのボリュームを調整する |

## 拡張予定

- セーブ/ロード機能
- ボスモンスター